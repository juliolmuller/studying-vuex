var e=Object.assign;import{P as t,c as o,r as a,u as i,o as s,a as n,b as d,w as l,d as r,v as c,e as u,f as m,g as p,h as f,F as h,i as v,t as b,j as g,S as T,k as y,l as w}from"./vendor.770bfde7.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const a=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,s)=>{const n=new URL(e,a);if(self[t].moduleMap[n])return o(self[t].moduleMap[n]);const d=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(d),onerror(){s(new Error(`Failed to import: ${e}`)),i(l)},onload(){o(self[t].moduleMap[n]),i(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/studying-vuex/assets/");const k=t.create({baseURL:"https://jsonplaceholder.typicode.com/todos"});const x=o({modules:{todos:{namespaced:!0,state:{limit:100,todos:[]},getters:{limit:e=>e.limit,todos:e=>e.todos.filter(((t,o)=>o<e.limit))},mutations:{setLimit(e,t){e.limit=Number(t)},setTodos(e,t){e.todos=t},addTodo(e,t){e.todos=[t,...e.todos]},removeTodo(e,t){e.todos=e.todos.filter((e=>e.id!==t))},updateTodo(e,t){e.todos=e.todos.map((e=>e.id===t.id?t:e))}},actions:{async fetchTodos({commit:e}){const{data:t}=await k.get("/");await new Promise((o=>{setTimeout(o,1e3),e("setTodos",t)}))},async addTodo({commit:e},t){const{data:o}=await k.post("/",{title:t,completed:!1});e("addTodo",o)},deleteTodo({commit:e},t){k.delete(`/${t}`),e("removeTodo",t)},updateTodo({commit:e},t){k.put(`/${t.id}`,t),e("updateTodo",t)}}}}});const C={name:"TodoForm",setup(){const e=a(""),t=a(!1),o=i();return{title:e,isLoading:t,handleSubmit:async function(){t.value=!0,await o.dispatch("todos/addTodo",e.value),t.value=!1,e.value=""}}}},L={class:"todo-form"},M=d("h3",null,"Adicionar Tarefa",-1),S={class:"add"},U=d("i",{class:"fa fa-save"},null,-1),F=u(" Salvar ");C.render=function(e,t,o,a,i,u){return s(),n("div",L,[M,d("div",S,[d("form",{onSubmit:t[2]||(t[2]=l(((...e)=>a.handleSubmit&&a.handleSubmit(...e)),["prevent"]))},[r(d("input",{type:"text",placeholder:"Tarefa a ser adicionada...","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e)},null,512),[[c,a.title]]),d("button",{type:"submit",disabled:a.isLoading},[U,F],8,["disabled"])],32)])])};const j={name:"TodoFilter",setup(){const e=i();return{limitCount:m({get:()=>e.getters["todos/limit"],set:t=>e.commit("todos/setLimit",t)})}}},R={class:"todos-filter"},N=d("label",{for:"todo-filter-input"},[d("i",{class:"fa fa-filter"}),u(" Quantidade de itens: ")],-1),$=f('<option value="200">200</option><option value="100">100</option><option value="50">50</option><option value="20">20</option><option value="10">10</option>',5);j.render=function(e,t,o,a,i,l){return s(),n("div",R,[N,r(d("select",{id:"todo-filter-input","onUpdate:modelValue":t[1]||(t[1]=e=>a.limitCount=e)},[$],512),[[p,a.limitCount,void 0,{number:!0}]])])};const _={name:"Loading"},O={class:"loading"},q=d("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"none",display:"block","shape-rendering":"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},[d("rect",{x:"17.5",y:"30",width:"15",height:"40",fill:"#41b883"},[d("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"18;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"}),d("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"64;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"})]),d("rect",{x:"42.5",y:"30",width:"15",height:"40",fill:"#41b883"},[d("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"}),d("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"})]),d("rect",{x:"67.5",y:"30",width:"15",height:"40",fill:"#41b883"},[d("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"}),d("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"})])],-1);_.render=function(e,t,o,a,i,d){return s(),n("div",O,[q])};const A={name:"Todos",async setup(){const t=i(),o=m((()=>t.getters["todos/todos"]));return await t.dispatch("todos/fetchTodos"),{todos:o,deleteTodo:function(e){confirm("Tem certeza que quer excluir esta tarefa?")&&t.dispatch("todos/deleteTodo",e.id)},toggleComplete:function(o){t.dispatch("todos/updateTodo",e(e({},o),{completed:!o.completed}))}}}},D={class:"todos-cards"},E=d("legend",null,[d("span",null," DÃª duplo-clique para marcar a tarefa como completa/incompleta "),d("span",null,[d("span",{class:"incomplete-box"}),u(" = Incompleta ")]),d("span",null,[d("span",{class:"complete-box"}),u(" = Completa ")])],-1),P={class:"todos"};A.render=function(e,t,o,a,i,l){return s(),n("div",D,[E,d("div",P,[(s(!0),n(h,null,v(a.todos,(e=>(s(),n("div",{key:e.id,class:["todo",{"is-complete":e.completed}],onDblclick:t=>a.toggleComplete(e)},[u(b(e.title)+" ",1),d("i",{class:"fa fa-trash-o",onClick:t=>a.deleteTodo(e)},null,8,["onClick"])],42,["onDblclick"])))),128))])])};const V={name:"App",components:{TodoForm:C,TodoFilter:j,Loading:_,Todos:A}},B={class:"container"},z=d("h1",{class:"title"}," Lista de Tarefas VUEX ",-1);V.render=function(e,t,o,a,i,l){const r=g("TodoForm"),c=g("TodoFilter"),u=g("Todos"),m=g("Loading");return s(),n("div",B,[z,d(r),d(c),(s(),n(T,null,{default:y((()=>[d(u)])),fallback:y((()=>[d(m)])),_:1}))])},w(V).use(x).mount("#app");
